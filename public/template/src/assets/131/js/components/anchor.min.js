import{addBlockLink as e}from"./block-link.min.js";import{wmCopyToClipboard as t}from"./copy-to-clipboard.min.js";const o=o=>{const n=document.createElement("div");n.classList.add("wm-anchor",`wm-anchor--${o.nodeName.toLowerCase()}`,"js-wm-block-link"),n.innerHTML=o.outerHTML;const r=document.createElement("a");r.href=`#${o.id}`,r.textContent="#",r.setAttribute("aria-label",`Link zu ${o.textContent} kopieren`),n.appendChild(r),o.parentNode.insertBefore(n,o),o.remove(),o.dataset.noBlockLink||e(n,!1,(()=>{t(r.href)}))},n=()=>{if(!document.querySelector("[data-wm-site-content]"))throw new Error('"[data-wm-site-content]" auf <main> fehlt.');const e=document.querySelector("[data-wm-site-content]").querySelectorAll("h2[id], h3[id], h4[id], h5[id], .js-wm-anchor[id], [data-wm-anchor][id]");for(let t=0;t<e.length;t++){const n=e[t];"disabled"!==n.dataset.wmAnchor&&o(n)}};export{n as initAnchorLinks,o as addAnchorLink};