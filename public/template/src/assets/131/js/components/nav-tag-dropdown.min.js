import{randomHash as t}from"./utils.min.js";let e=-1,o="";const r=(t,e)=>{e.removeAttribute("hidden");const o=e.querySelectorAll("a"),r=window.getComputedStyle?getComputedStyle(o[0],null):o[0].currentStyle,a=2*parseInt(r.paddingLeft);let n=0;for(let t=0;t<o.length;t++){const e=o[t];e.offsetWidth>n&&(n=e.offsetWidth+2*a)}return e.setAttribute("hidden","hidden"),t.querySelector(".js-wm-tag-dropdown-listcontainer").style.position="absolute",n},a=t=>{t.style.width=`${t.offsetWidth}px`},n=(t,o,r,a)=>{r.addEventListener("click",(e=>{"false"===r.getAttribute("aria-expanded")?s(t,r,o,a):l(t,r,o)})),t.addEventListener("click",(t=>{t.target.classList.contains("wm-nav-tag__dropdown-item")})),t.addEventListener("keydown",(a=>{const n=o.querySelectorAll("a");if(27===a.keyCode){l(t,r,o);("BUTTON"!==r.nodeName?r.querySelector("button"):r).focus()}38!==a.keyCode&&40!==a.keyCode||"false"!==r.getAttribute("aria-expanded")&&(a.preventDefault(),40===a.keyCode?e++:e--,e===n.length&&(e=0),e<0&&(e=n.length-1),n[e].focus())})),o.addEventListener("keydown",(t=>{}))},s=(t,e,o,r)=>{t.classList.add("wm-nav-tag__dropdown--active"),e.setAttribute("aria-expanded",!0),o.removeAttribute("hidden"),t.closest(".wm-nav-tag--no-scroll")&&(t.closest(".wm-nav-tag__list").style.transform=`translateX(${-1*t.closest(".wm-nav-tag--no-scroll").scrollLeft}px)`,t.closest(".wm-nav-tag--no-scroll").classList.add("wm-nav-tag--scroll"),document.querySelector("[data-wm-site-content]").style.overflow="hidden"),setTimeout((()=>{e.style.width=`${r}px`,t.querySelector("div").style.width=`${r}px`}),100)},l=(t,o,r)=>{o.getAttribute("aria-expanded")&&(o.setAttribute("aria-expanded",!1),r.setAttribute("hidden","hidden"),t.querySelector("[data-wm-tag-dropdown-tag]").removeAttribute("style"),t.closest(".wm-nav-tag--no-scroll")&&(t.closest(".wm-nav-tag--no-scroll").classList.remove("wm-nav-tag--scroll"),t.closest(".wm-nav-tag__list").style.removeProperty("transform"),document.querySelector("[data-wm-site-content]").style.removeProperty("overflow")),e=-1)};window.onload=function(){(()=>{const e=document.querySelectorAll("[data-wm-tag-dropdown]");if(0!==e.length)for(let s=0;s<e.length;s++){const l=e[s],d=l.querySelector("[data-wm-tag-dropdown-tag]"),i=l.querySelector("ul"),c=r(l,i),u=`tag_${t()}`;d.setAttribute("aria-expanded",!1),d.setAttribute("aria-controls",u),i.setAttribute("id",u),o=l.dataset.wmTagDropdown,a(l),n(l,i,d,c)}})()};