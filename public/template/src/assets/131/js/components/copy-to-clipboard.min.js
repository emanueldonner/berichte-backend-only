const t=(t,e)=>{var o=document.createElement("textarea");document.body.appendChild(o),o.value=t,o.select(),document.execCommand("copy")?a(e):a(e,!0),document.body.removeChild(o)},e=(e,o)=>{"clipboard"in navigator?navigator.clipboard.writeText(o).then((()=>{e&&a(e)}),(()=>{t(o,e)})):t(o,e)},a=(t,e=!1)=>{let a="wm-btn--success",o=t.dataset.wmClipboardSuccess;e&&(a="wm-btn--danger",o=t.dataset.wmClipboardError),t.classList.add(a);const n=t.textContent;t.textContent=o,setTimeout((()=>{t.classList.remove(a),t.textContent=n}),2e3)},o=function(t){let a,o,n=t;if("string"!=typeof t)if(t.preventDefault(),o=t.target.closest("button"),o.dataset.wmClipboardJson){var d=o.dataset.wmClipboardJson.split("#")[0],s=o.dataset.wmClipboardJson.split("#")[1];fetch(d).then((t=>t.text())).then((t=>{var a=JSON.parse(t);n=a[s],e(o,n)}))}else{const t=o.dataset.wmClipboardId;a=document.getElementById(t),n=a.value,e(o,n)}else e(!1,t)},n=()=>{const t=document.querySelectorAll("[data-wm-clipboard]");for(let e=0;e<t.length;e++)t[e].addEventListener("click",o)};export{o as wmCopyToClipboard,n as initCopyToClipBoard};