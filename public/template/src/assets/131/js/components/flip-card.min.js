const t=()=>{const t=document.querySelectorAll(".js-wm-flipcard");if(0!==t.length){for(let r=0;r<t.length;r++){const d=t[r];e(d)}document.addEventListener("keydown",(e=>{if(27===e.keyCode)for(let e=0;e<t.length;e++){const r=t[e];r.classList.contains("wm-card--flipped")&&d(r)}}))}},e=t=>{const e=t.querySelectorAll(".js-wm-card-side");for(let s=0;s<e.length;s++){const n=e[s],a=r(n.dataset);if(!n.querySelector(".js-wm-card-header")){const t=document.createElement("div");t.classList.add("wm-card__header"),t.classList.add("js-wm-card-header"),n.insertBefore(t,n.firstChild)}n.querySelector(".js-wm-card-header").appendChild(a),a.addEventListener("click",(()=>{d(t)}))}},r=t=>{const e=document.createElement("button"),r=document.createElement("span");if(e.setAttribute("aria-expanded",!1),e.appendChild(r),e.classList.add("wm-flip-card__button"),e.classList.add("wm-btn--clean"),void 0!==t.buttonHidden&&(e.classList.add("wm-flip-card__button--icon"),r.classList.add("wm-h-vh")),void 0===t.buttonText)throw new Error("data-button-text Attribut auf .wm-card__side fehlt");return r.textContent=t.buttonText,e},d=(t,e)=>{t.classList.toggle("wm-card--flipped");const r=t.querySelectorAll(".js-wm-card-side");for(let t=0;t<r.length;t++){r[t].classList.toggle("wm-card__side--flipped")}let d=!1,s=r[0];s.setAttribute("aria-hidden",!0),t.classList.contains("wm-card--flipped")&&(d=!0,s=r[1]),d?(r[0].setAttribute("inert",""),r[1].removeAttribute("inert")):(r[1].setAttribute("inert",""),r[0].removeAttribute("inert"));const n=t.querySelectorAll(".wm-flip-card__button");for(let t=0;t<n.length;t++){n[t].setAttribute("aria-expanded",d)}s.querySelector(".wm-flip-card__button").focus()};export{t as initFlipCards};