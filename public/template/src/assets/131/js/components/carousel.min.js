import{tns as t}from"./../vendor/tiny-slider.min.js";import{addSkipLink as e}from"./skip-links.min.js";let s=null;const n="Start",i="Stopp",o=t=>{const e=t.controlsContainer;e.removeAttribute("tabindex"),t.nextButton.removeAttribute("tabindex"),t.nextButton.classList.add("wm-btn--clean"),t.prevButton.removeAttribute("tabindex"),t.prevButton.classList.add("wm-btn--clean"),"single"===t.container.dataset.size&&e.classList.add("wm-carousel-controls--visible")},a=()=>{const t=document.querySelector(".wm-carousel__startstop");t&&(t.setAttribute("aria-pressed",!1),clearInterval(s),t.querySelector("span").textContent=n)},r=t=>{const{container:e}=t.getInfo();if("single"===e.dataset.size){const n=e.closest(".tns-outer"),o=(t=>{const e=()=>{t.goTo("next")},n=document.createElement("button"),o=document.createElement("span");return s=setInterval(e,5e3,t),o.classList.add("wm-h-vh"),o.textContent=i,n.appendChild(o),n.setAttribute("aria-pressed",!0),n.classList.add("wm-carousel__startstop"),n.addEventListener("click",(n=>{const o=n.target.closest("button");"true"===o.getAttribute("aria-pressed")?a():(s=setInterval(e,5e3,t),o.querySelector("span").textContent=i,o.setAttribute("aria-pressed",!0))})),n})(t);n.classList.add("tns-outer--single"),n.appendChild(o)}},d=(t,e)=>{const s=t.container.querySelectorAll("a, button");if(0!==s.length)for(let t=0;t<s.length;t++){const e=s[t];e.closest(".tns-item").classList.contains("tns-slide-active")?e.setAttribute("tabindex",0):e.setAttribute("tabindex",-1)}},l=t=>{d(t,t.index)},c=t=>{const e=Boolean(t.dataset.tabletOnly);let s={0:{disable:e},400:{fixedWidth:320},768:{fixedWidth:345,disable:!1},845:{fixedWidth:345,disable:!1},1200:{fixedWidth:366}};return t.dataset.size&&("large"===t.dataset.size&&(s={0:{disable:e},400:{fixedWidth:320},768:{fixedWidth:345,disable:!1},845:{fixedWidth:345,disable:!1},1024:{fixedWidth:450},1200:{fixedWidth:550}}),"small"===t.dataset.size&&(s={0:{disable:e},400:{fixedWidth:276}}),"single"===t.dataset.size&&(s={0:{fixedWidth:!1,loop:!0}})),s},u=()=>{const s=document.querySelectorAll(".js-wm-carousel");if(0!==s.length)for(let n=0;n<s.length;n++){const i=s[n],u=c(i),p=t({arrowKeys:!0,container:i,controlsText:['<span class="wm-h-vh">Zur√ºck</span>','<span class="wm-h-vh">Vor</span>'],fixedWidth:276,items:1,gutter:0,loop:!1,mouseDrag:!0,onInit(t){o(t),d(t)},nav:!1,responsive:u,swipeAngle:20});if(void 0===p)throw new Error("Slider kann nicht initialisiert werden.");p.events.on("transitionEnd",l),p.getInfo().container.closest(".tns-outer").addEventListener("click",(function(t){t.target.classList.contains("wm-carousel__startstop")||a()})),document.body.addEventListener("keyup",(function(t){p.getInfo().container&&(37!==t.keyCode&&39!==t.keyCode||a())})),r(p),e(p.getInfo().container.closest(".tns-outer"))}};export{o as adaptControls,d as setTabIndex,l as setActiveSlide,u as initCarousels};